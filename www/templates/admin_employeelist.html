<ion-view cache-view="false">
  <link href="css/employeelist.css" rel="stylesheet" cache-view="false">
  
  <ion-header-bar>
         <div class="row">
             <div class="col col-10" ng-click="empback()"><i class="button-icon ion-android-arrow-back close"></i></div>             
             <div class="col col-80" > <p class="titletext">Employees</p></div>
             <div class="col col-10" ng-click="logout()"><i class="button-icon ion-log-out close" ></i></div>
         </div>
  </ion-header-bar>   


<div class="bar bar-subheader item-input-inset row">
     <div class="row" >
        <label class="item-input-wrapper">
          <i class="icon ion-search"></i>
          <input type="search" placeholder="Search" ng-model="search">         
        </label>
     </div>       
  </div>


  <ion-content class="content_back search" padding="true">   
          <div class="row">
           <div class="col col-offset-30 col-30" >
           <li class="item item-toggle" style="background-color:#D8D8D8;">
             <span style="margin-left:-15px;" ng-show="approve_state && !all">Approved Status : Approved</span>
             <span style="margin-left:-15px;" ng-show="!approve_state && !all">Approved Status : UnApproved</span>
             <span style="margin-left:-15px;" ng-show="approve_state && all">Approved Status : All</span>
            <label class="toggle toggle-balanced">
             <input type="checkbox" ng-model="approve" ng-change="checkStatus(approve)">
             <div class="track">
               <div class="handle"></div>
             </div>
            </label>
           </li>
           </div>
          </div>
          <div class="list" ng-repeat="emp in EmployeesDetails | filter:approve">
            <div class="item item-avatar item-icon-right">
              <img src="img/contact.png">
              <h2>{{emp.first_name}}</h2>
              <p>{{emp.designation}}</p>
            </div>
            <div class="item row">
              <i class="icon icon-clr line ion-android-call col col-20" ng-click="call(emp.mobile_number,emp.id);CallPost(emp.id)">&nbsp;CALL&nbsp;</i>
              <i class="icon icon-clr line ion-android-textsms col col-20" ng-click="openModal(emp.mobile_number,emp.id,emp.first_name)">&nbsp;SMS</i>
              <i class="icon icon-clr line ion-ios-time-outline col col-30" ng-click="timesheet(emp.id,emp.first_name)">&nbsp;TIMESHEET</i>
              <i class="icon icon-clr ion-android-share col col-30" ng-click="assigntoemp(emp.id,emp.first_name)">&nbsp;ASSIGN</i>
            </div>
          </div>


          <script id="templates/modal.html" type="text/ng-template">
            <ion-modal-view> 
              <ion-header-bar>
                <div class="row">
                  <div class="col col-20" ng-click="closeModal()"><i class="button-icon ion-ios-arrow-back close"></i></div>             
                  <div class="col col-80" > <p class="titletext">Message</p></div>
                </div>
              </ion-header-bar>
              <ion-content>                                        
                  <div class="list list-inset">
                      <p>To : {{nameOpen}}</p>
                      <textarea  class="brd-txt" rows="4" style="width:100%;" ng-model="admin.response" ng-required="true" placeholder="Text Message here"></textarea>
                      <button ng-disabled="!admin.response" ng-click="popup(mNumber,selectedId,admin.response);closeModal();SMSPost(selectedId,admin.response)" class="button button-block button-positive">Send</button>
                  </div>                        
              </ion-content>                    
            </ion-modal-view>
          </script>


  </ion-content>

</ion-view>